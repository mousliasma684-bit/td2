<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Attendance List</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="attendance.html">Attendance List</a>
    <a href="add_student.html">Add Student</a>
    <a href="reports.html">Reports</a>
    <button id="logoutBtn" class="logout-btn">Logout</button>
  </nav>

  <h1>Attendance List</h1>

  <table>
    <tr>
      <th>Student ID</th>
      <th>Last Name</th>
      <th>First Name</th>
      <th>Course</th>
      <th>Session Date</th>
      <th>Present</th>
      <th>Participated</th>
    </tr>
    <tr>
      <td>001</td>
      <td>Mousli</td>
      <td>Asma</td>
      <td>PAW</td>
      <td>2025-10-24</td>
      <td>
        <button class="btn present-btn">Mark</button>
        <span class="status present-status">Absent</span>
      </td>
      <td>
        <button class="btn part-btn">Mark</button>
        <span class="status part-status">No</span>
      </td>
    </tr>
    <tr>
      <td>002</td>
      <td>Riham</td>
      <td>Mohamed Kebir</td>
      <td>IHM</td>
      <td>2025-10-24</td>
      <td>
        <button class="btn present-btn">Mark</button>
        <span class="status present-status">Absent</span>
      </td>
      <td>
        <button class="btn part-btn">Mark</button>
        <span class="status part-status">No</span>
      </td>
    </tr>
    <tr>
      <td>003</td>
      <td>Nawal</td>
      <td>Messouaf</td>
      <td>GL</td>
      <td>2025-10-24</td>
      <td>
        <button class="btn present-btn">Mark</button>
        <span class="status present-status">Absent</span>
      </td>
      <td>
        <button class="btn part-btn">Mark</button>
        <span class="status part-status">No</span>
      </td>
    </tr>
  </table>

  <!-- COUNTER SECTION -->
  <div class="counter-box">
    <strong>Present:</strong> <span id="presentCount">0</span> students &nbsp;&nbsp; | &nbsp;&nbsp;
    <strong>Participated:</strong> <span id="partCount">0</span> students
  </div>

  <script>
    const presentButtons = document.querySelectorAll('.present-btn');
    const partButtons = document.querySelectorAll('.part-btn');
    const presentCount = document.getElementById('presentCount');
    const partCount = document.getElementById('partCount');

    let totalPresent = 0;
    let totalPart = 0;

    // Handle "Present" buttons
    presentButtons.forEach((btn) => {
      btn.addEventListener('click', () => {
        const status = btn.nextElementSibling;
        btn.classList.toggle('active');
        status.classList.toggle('active');

        if (btn.classList.contains('active')) {
          totalPresent++;
          status.textContent = 'Present';
        } else {
          totalPresent--;
          status.textContent = 'Absent';
        }
        presentCount.textContent = totalPresent;
      });
    });

    // Handle "Participated" buttons
    partButtons.forEach((btn) => {
      btn.addEventListener('click', () => {
        const status = btn.nextElementSibling;
        btn.classList.toggle('active');
        status.classList.toggle('active');

        if (btn.classList.contains('active')) {
          totalPart++;
          status.textContent = 'Yes';
        } else {
          totalPart--;
          status.textContent = 'No';
        }
        partCount.textContent = totalPart;
      });
    });
  </script>

  <script>
    document.getElementById('logoutBtn').addEventListener('click', () => {
      localStorage.clear();
      window.location.replace('index.html');
    });
  </script>

</body>
</html>

