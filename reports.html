<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reports & Analytics</title>
  <link rel="stylesheet" href="style.css">

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Dashboard layout */
    .dashboard {
      width: 90%;
      margin: 30px auto;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .card {
      background-color: #2d2d4d;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    .card h3 {
      color: #c3b9ff;
      margin-bottom: 10px;
    }

    .card p {
      font-size: 1.5em;
      color: #ffffff;
      margin: 0;
    }

    /* Filters section */
    .filters {
      background-color: #2d2d4d;
      padding: 15px 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .filters label {
      margin-right: 10px;
    }

    .filters select, .filters input {
      margin-right: 20px;
      background-color: #1e1e2f;
      color: #fff;
      border: 1px solid #4b4b7e;
      border-radius: 5px;
      padding: 5px 8px;
    }

    /* Charts layout */
    .charts {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
    }

    canvas {
      background-color: #2d2d4d;
      border-radius: 10px;
      padding: 10px;
    }

    /* Export buttons */
    .exports {
      text-align: center;
      margin-top: 30px;
    }

    .exports button {
      margin: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #5a4fcf;
      color: #fff;
      cursor: pointer;
    }
    .exports button:hover {
      background-color: #7d6bff;
    }
  </style>
</head>

<body>
  <!-- Navigation Bar -->
  <nav>
    <a href="index.html">Home</a>
    <a href="attendance.html">Attendance List</a>
    <a href="add_student.html">Add Student</a>
    <a href="reports.html">Reports</a>
    <button id="logoutBtn" class="logout-btn">Logout</button>
  </nav>

  <h1>Reports & Analytics</h1>

  <div class="dashboard">

    <!-- Summary Cards -->
    <div class="cards">
      <div class="card">
        <h3>Total Students</h3>
        <p>160</p>
      </div>
      <div class="card">
        <h3>Male Students</h3>
        <p>65</p>
      </div>
      <div class="card">
        <h3>Female Students</h3>
        <p>95</p>
      </div>
      <div class="card">
        <h3>Average Attendance</h3>
        <p>85%</p>
      </div>
      <div class="card">
        <h3>Module</h3>
        <p>6</p>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters">
      <label for="dateRange">Date range:</label>
      <input type="month" id="dateRange" name="dateRange">

      <label for="Module">Module:</label>
      <select id="Module">
        <option>All</option>
        <option>paw</option>
        <option>IHM</option>
        <option>GL</option>
         <option>SID</option>
          <option>ENSV</option>
           <option>ASI</option>
      </select>

      <label for="performance">Performance:</label>
      <select id="performance">
        <option>All</option>
        <option>Top Students</option>
        <option>Average</option>
        <option>Failed</option>
      </select>

      <button class="btn">Apply Filter</button>
    </div>

    <!-- Charts -->
    <div class="charts">
      <div>
        <h3 style="text-align:center;">Students per Level</h3>
        <canvas id="levelChart"></canvas>
      </div>

      <div>
        <h3 style="text-align:center;">Grades Distribution</h3>
        <canvas id="gradesChart"></canvas>
      </div>

      <div>
        <h3 style="text-align:center;">Attendance Trends</h3>
        <canvas id="attendanceChart"></canvas>
      </div>
    </div>

    <!-- Export Buttons -->
    <div class="exports">
      <button>Download as PDF</button>
      <button>Export as Excel / CSV</button>
    </div>

  </div>

  <!-- Chart.js Script -->
  <script>
    // Chart 1: Students per Level
    const ctx1 = document.getElementById('levelChart');
    new Chart(ctx1, {
      type: 'bar',
      data: {
        labels: ['1st Year', '2nd Year', 'ISIL' , 'SI'],
        datasets: [{
          label: 'Number of Students',
          data: [450, 300, 160, 80],
          backgroundColor: ['#7d6bff', '#5a4fcf', '#a590ff', '#8b7eff']
        }]
      },
      options: {
        plugins: { legend: { labels: { color: '#fff' } } },
        scales: {
          x: { ticks: { color: '#fff' } },
          y: { ticks: { color: '#fff' } }
        }
      }
    });

    // Chart 2: Grades Distribution
    const ctx2 = document.getElementById('gradesChart');
    new Chart(ctx2, {
      type: 'pie',
      data: {
        labels: ['A', 'B', 'C', 'D', 'F'],
        datasets: [{
          data: [25, 40, 20, 10, 5],
          backgroundColor: ['#7d6bff', '#5a4fcf', '#9a8cff', '#c3b9ff', '#3a3a60']
        }]
      },
      options: {
        plugins: { legend: { labels: { color: '#fff' } } }
      }
    });

    // Chart 3: Attendance Trends
    const ctx3 = document.getElementById('attendanceChart');
    new Chart(ctx3, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [{
          label: 'Average Attendance (%)',
          data: [75, 80, 70, 60, 70, 90],
          borderColor: '#7d6bff',
          backgroundColor: '#5a4fcf55',
          tension: 0.4,
          fill: true
        }]
      },
      options: {
        plugins: { legend: { labels: { color: '#fff' } } },
        scales: {
          x: { ticks: { color: '#fff' } },
          y: { ticks: { color: '#fff' } }
        }
      }
    });
  </script>
  <script>
  document.getElementById('logoutBtn').addEventListener('click', () => {
    // Clear local storage (if youâ€™re saving user or teacher data)
    localStorage.clear();

    // Optional: reload the page
    location.reload();

    // Redirect to the homepage after a brief delay
    setTimeout(() => {
      window.location.href = 'index.html';
    }, 200);
  });
</script>
<script>
  document.getElementById('logoutBtn').addEventListener('click', () => {
    localStorage.clear();
    window.location.replace('index.html'); // redirects directly
  });
</script>
</body>
</html>

